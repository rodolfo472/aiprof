<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Geometry Lite</title>

<style>
body{
  margin:0;
  background:#0a0a0a;
  overflow:hidden;
  font-family:Arial;
}

#hud{
  position:absolute;
  top:10px;
  left:10px;
  color:#0ff;
  font-size:20px;
  text-shadow:0 0 10px cyan;
}

#start{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  padding:20px 30px;
  background:#0ff;
  color:black;
  font-size:22px;
  border-radius:10px;
  box-shadow:0 0 20px cyan;
}
</style>
</head>
<body>

<div id="hud">Dist√¢ncia: <span id="score">0</span></div>
<div id="start" onclick="startGame()">‚ñ∂ TOCAR PARA COME√áAR</div>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let groundY = canvas.height - 120;
let player, obstacles, speed, score, playing;

function reset(){
  player = {
    x:100,
    y:groundY,
    size:40,
    vy:0,
    jump:false
  };
  obstacles = [];
  speed = 6;
  score = 0;
  playing = true;
}

function startGame(){
  document.getElementById("start").style.display="none";
  reset();
  loop();
}

function jump(){
  if(!player.jump){
    player.vy = -18;
    player.jump = true;
  }
}

document.addEventListener("click",jump);
document.addEventListener("keydown",(e)=>{
  if(e.code==="Space") jump();
});

function spawnObstacle(){
  obstacles.push({
    x:canvas.width,
    y:groundY,
    w:40,
    h:40
  });
}

function loop(){
  if(!playing) return;

  ctx.clearRect(0,0,canvas.width,canvas.height);

  // CH√ÉO
  ctx.fillStyle="#111";
  ctx.fillRect(0,groundY+40,canvas.width,10);

  // PLAYER
  player.vy += 1;
  player.y += player.vy;

  if(player.y >= groundY){
    player.y = groundY;
    player.vy = 0;
    player.jump = false;
  }

  ctx.fillStyle="#0ff";
  ctx.shadowColor="#0ff";
  ctx.shadowBlur=20;
  ctx.fillRect(player.x,player.y,player.size,player.size);

  // OBST√ÅCULOS
  ctx.shadowBlur=0;
  ctx.fillStyle="#f00";
  obstacles.forEach((o,i)=>{
    o.x -= speed;
    ctx.fillRect(o.x,o.y,o.w,o.h);

    // COLIS√ÉO
    if(player.x < o.x+o.w &&
       player.x+player.size > o.x &&
       player.y < o.y+o.h &&
       player.y+player.size > o.y){
       gameOver();
    }

    if(o.x+o.w < 0){
      obstacles.splice(i,1);
      score++;
      speed += 0.1;
    }
  });

  if(Math.random() < 0.02){
    spawnObstacle();
  }

  document.getElementById("score").innerText = score;

  requestAnimationFrame(loop);
}

function gameOver(){
  playing=false;
  document.getElementById("start").innerText =
    "üíÄ GAME OVER\nPontua√ß√£o: "+score+"\nTOCAR PARA REINICIAR";
  document.getElementById("start").style.display="block";
}

// RESPONSIVO
window.addEventListener("resize",()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  groundY = canvas.height - 120;
});
</script>

</body>
</html>
